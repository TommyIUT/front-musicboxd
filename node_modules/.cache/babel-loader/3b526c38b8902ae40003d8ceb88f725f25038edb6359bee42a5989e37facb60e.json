{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\killt\\\\Documents\\\\POLYTECH\\\\IG3\\\\S6\\\\ProjetWeb\\\\Musicboxd\\\\Musicboxd\\\\Musicboxd\\\\front-musicboxd\\\\src\\\\components\\\\editView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport Stack from '@mui/material/Stack';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport TextField from '@mui/material/TextField';\nimport { alpha, styled } from '@mui/material/styles';\nimport Box from '@mui/material/Box';\nimport '../styles/editview.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CssTextField = styled(TextField)({\n  '& label.Mui-focused': {\n    color: '#1ED75A'\n  },\n  '& label': {\n    color: '#1ED75A'\n  },\n  '& .MuiInput-underline:after': {\n    borderBottomColor: '#1ED75A'\n  },\n  '& .MuiOutlinedInput-root': {\n    '& fieldset': {\n      borderColor: '#1ED75A'\n    },\n    '&:hover fieldset': {\n      borderColor: '#1ED75A'\n    },\n    '&.Mui-focused fieldset': {\n      borderColor: '#1ED75A'\n    }\n  }\n});\n_c = CssTextField;\nexport default function EditView(_ref) {\n  _s();\n  let {\n    user,\n    setUser,\n    isConnected,\n    setIsConnected\n  } = _ref;\n  const [userData, setUserData] = useState(null);\n  const [pseudo, setPseudo] = useState('');\n  const [localisation, setLocalisation] = useState('');\n  const [bio, setBio] = useState('');\n  const [photo, setPhoto] = useState('');\n  const navigate = useNavigate();\n  const handlePseudoChange = e => {\n    setPseudo(e.target.value);\n  };\n  const handleLocalisationChange = e => {\n    setLocalisation(e.target.value);\n  };\n  const handlePhotoChange = e => {\n    console.log(bio);\n    setPhoto(e.target.value);\n  };\n  const handleBioChange = e => {\n    setBio(e.target.value);\n  };\n  useEffect(() => {\n    if (user === '') {\n      navigate('/login');\n    } else {\n      fetchUser(user);\n    }\n  }, [user, navigate]);\n  async function fetchUser(id) {\n    try {\n      const url = `http://localhost:5000/userbox/id/${id}`;\n      const response = await fetch(url, {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const data = await response.json();\n      const res = [data[0].pseudo, data[0].bio, data[0].pronoms, data[0].localisation, data[0].photo];\n      setPseudo(data[0].pseudo);\n      setLocalisation(data[0].localisation);\n      setBio(data[0].bio);\n      setPhoto(data[0].photo);\n      setUserData(res);\n    } catch {\n      navigate('/login');\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editView\",\n    children: userData ? /*#__PURE__*/_jsxDEV(Stack, {\n      spacing: 1,\n      direction: \"row\",\n      sx: {\n        marginTop: '100px',\n        marginLeft: '250px',\n        marginRight: '250px',\n        backgroundColor: '#000000'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          width: 500,\n          maxWidth: '100%'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 3,\n        direction: \"column\",\n        sx: {\n          backgroundColor: '#ffffff'\n        },\n        children: /*#__PURE__*/_jsxDEV(CssTextField, {\n          label: \"Pseudo\",\n          id: \"pseudo\",\n          defaultValue: pseudo,\n          fullWidth: true,\n          borderColor: \"white\",\n          multiline: true,\n          InputProps: {\n            style: {\n              color: 'white',\n              borderColor: '#1ED75A'\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Stack, {\n        spacing: 3,\n        direction: \"column\",\n        children: [/*#__PURE__*/_jsxDEV(CssTextField, {\n          label: \"Lien vers votre photo de profil\",\n          id: \"photo\",\n          defaultValue: photo,\n          fullWidth: true,\n          borderColor: \"white\",\n          multiline: true,\n          InputProps: {\n            style: {\n              color: 'white',\n              borderColor: '#1ED75A'\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(CssTextField, {\n          label: \"Bio\",\n          id: \"bio\",\n          defaultValue: bio,\n          InputProps: {\n            style: {\n              color: 'white',\n              borderColor: '#1ED75A'\n            }\n          },\n          multiline: true,\n          width: \"250px\",\n          fullWidth: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n}\n_s(EditView, \"dgE36C9wWj0hrncZPcGK7TOWLGM=\", false, function () {\n  return [useNavigate];\n});\n_c2 = EditView;\nvar _c, _c2;\n$RefreshReg$(_c, \"CssTextField\");\n$RefreshReg$(_c2, \"EditView\");","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","Stack","CircularProgress","TextField","alpha","styled","Box","jsxDEV","_jsxDEV","CssTextField","color","borderBottomColor","borderColor","_c","EditView","_ref","_s","user","setUser","isConnected","setIsConnected","userData","setUserData","pseudo","setPseudo","localisation","setLocalisation","bio","setBio","photo","setPhoto","navigate","handlePseudoChange","e","target","value","handleLocalisationChange","handlePhotoChange","console","log","handleBioChange","fetchUser","id","url","response","fetch","method","headers","data","json","res","pronoms","className","children","spacing","direction","sx","marginTop","marginLeft","marginRight","backgroundColor","width","maxWidth","fileName","_jsxFileName","lineNumber","columnNumber","label","defaultValue","fullWidth","multiline","InputProps","style","_c2","$RefreshReg$"],"sources":["C:/Users/killt/Documents/POLYTECH/IG3/S6/ProjetWeb/Musicboxd/Musicboxd/Musicboxd/front-musicboxd/src/components/editView.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {Link, useNavigate } from 'react-router-dom';\r\nimport Stack from '@mui/material/Stack';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport TextField from '@mui/material/TextField';\r\nimport { alpha, styled } from '@mui/material/styles';\r\nimport Box from '@mui/material/Box';\r\n\r\n\r\nimport '../styles/editview.css'\r\n\r\nconst CssTextField = styled(TextField)({\r\n    '& label.Mui-focused': {\r\n      color: '#1ED75A',\r\n    },\r\n    '& label': {\r\n        color: '#1ED75A',\r\n      },\r\n    '& .MuiInput-underline:after': {\r\n      borderBottomColor: '#1ED75A',\r\n    },\r\n    '& .MuiOutlinedInput-root': {\r\n      '& fieldset': {\r\n        borderColor: '#1ED75A',\r\n      },\r\n      '&:hover fieldset': {\r\n        borderColor: '#1ED75A',\r\n      },\r\n      '&.Mui-focused fieldset': {\r\n        borderColor: '#1ED75A',\r\n      },\r\n    },\r\n  });\r\n\r\n\r\nexport default function EditView({ user, setUser, isConnected, setIsConnected}) {\r\n    const [userData, setUserData] = useState(null);\r\n    const [pseudo, setPseudo] = useState('');\r\n    const [localisation, setLocalisation] = useState('');\r\n    const [bio, setBio] = useState('');\r\n    const [photo, setPhoto] = useState('');\r\n    const navigate = useNavigate(); \r\n\r\n    const handlePseudoChange = (e) => {\r\n        setPseudo(e.target.value);\r\n      };\r\n    \r\n    const handleLocalisationChange = (e) => {\r\n    setLocalisation(e.target.value);\r\n    };\r\n\r\n    const handlePhotoChange = (e) => {\r\n        console.log(bio)\r\n    setPhoto(e.target.value);\r\n    };\r\n\r\n    const handleBioChange = (e) => {\r\n        setBio(e.target.value);\r\n      };\r\n    \r\n\r\n    useEffect(() => {\r\n        if (user === ''){\r\n        navigate('/login')\r\n        } else {\r\n        fetchUser(user);\r\n        }\r\n    }, [user, navigate]);\r\n\r\n    async function fetchUser(id) {\r\n        try{\r\n        const url = `http://localhost:5000/userbox/id/${id}`;\r\n        const response = await fetch(url, {\r\n            method: 'GET',\r\n            headers: {\r\n            'Content-Type': 'application/json',\r\n            },\r\n        });\r\n        const data = await response.json()\r\n        const res = [data[0].pseudo, data[0].bio, data[0].pronoms, data[0].localisation, data[0].photo]\r\n        setPseudo(data[0].pseudo)\r\n        setLocalisation(data[0].localisation)\r\n        setBio(data[0].bio)\r\n        setPhoto(data[0].photo)\r\n        setUserData(res)\r\n        } catch {\r\n        navigate('/login')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"editView\">\r\n          {userData ? (\r\n            <Stack spacing={1} direction=\"row\" sx={{ marginTop: '100px', marginLeft: '250px', marginRight: '250px' , backgroundColor:'#000000'}}>\r\n              <Box\r\n      sx={{\r\n        width: 500,\r\n        maxWidth: '100%',\r\n      }}\r\n    ></Box>\r\n              <Stack spacing={3} direction=\"column\" sx={{backgroundColor:'#ffffff'}}>\r\n              <CssTextField label=\"Pseudo\" id=\"pseudo\"\r\n                    defaultValue={pseudo}\r\n                    fullWidth\r\n                    borderColor='white'\r\n                    multiline\r\n                    InputProps={{\r\n                        style: {\r\n                        color: 'white',\r\n                        borderColor: '#1ED75A',\r\n                        },\r\n                    }}\r\n                />\r\n              </Stack>\r\n              <Stack spacing={3} direction=\"column\">\r\n                <CssTextField label=\"Lien vers votre photo de profil\" id=\"photo\"\r\n                    defaultValue={photo}\r\n                    fullWidth\r\n                    borderColor='white'\r\n                    multiline\r\n                    InputProps={{\r\n                        style: {\r\n                        color: 'white',\r\n                        borderColor: '#1ED75A',\r\n                        },\r\n                    }}\r\n                />\r\n                <CssTextField label=\"Bio\" id=\"bio\"\r\n                defaultValue={bio}\r\n                InputProps={{\r\n                    style: {\r\n                    color: 'white',\r\n                    borderColor: '#1ED75A',\r\n                    },\r\n                }}\r\n                multiline\r\n                width='250px'\r\n                fullWidth\r\n                />\r\n              </Stack>\r\n            </Stack>\r\n          ) : (\r\n            <CircularProgress />\r\n          )}\r\n        </div>\r\n      );\r\n    }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}